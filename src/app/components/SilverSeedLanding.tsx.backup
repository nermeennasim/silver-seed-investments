"use client";

import React, { useState, useEffect } from "react";
import { useTheme } from "../contexts/ThemeContext";
import {
	Building,
	TrendingUp,
	Shield,
	Users,
	Phone,
	Mail,
	MapPin,
	ArrowRight,
	CheckCircle,
	Star,
	HandHeart,
	Calculator,
	CreditCard,
	ShieldCheck,
	Menu,
	X,
	LucideIcon,
} from "lucide-react";
import siteData from "@/data/seedData";
import { label } from "framer-motion/client";
import Navigation from "./Navigation";
import Footer from "./Footer";

// Type definitions
export interface CaseStudy {
	title: string;
	roi: number;
	marketPrice?: number;
	finalPrice?: number;
	projectCost?: number;
	salesProceeds?: number;
	monthlyRent?: number;
	savings?: number;
	profit?: number;
}

export interface Benefit {
	title: string;
	description: string;
	icon: LucideIcon;
}

export interface Service {
	title: string;
	icon: LucideIcon;
	description: string;
}

export interface Contact {
	phone: string;
	whatsapp: string;
	email: string;
	website: string;
}

export interface Company {
	motto: string;
	contact: Contact;
}

export interface Hero {
	title: string;
	subtitle: string;
	features: string[];
}

export interface ValueProposition {
	title: string;
	benefits: Benefit[];
}

export interface Services {
	title: string;
	subtitle: string;
	categories: Service[];
}

export interface SiteData {
	hero: Hero;
	valueProposition: ValueProposition;
	services: Services;
	caseStudies: CaseStudy[];
	company: Company;
}

const SilverSeedLanding: React.FC = () => {
	const { theme } = useTheme();
	const [isMenuOpen, setIsMenuOpen] = useState<boolean>(false);
	const [activeSection, setActiveSection] = useState<string>("hero");
	const [mounted, setMounted] = useState<boolean>(false);

	useEffect(() => {
		setMounted(true);
	}, []);

	useEffect(() => {
		const handleScroll = (): void => {
			const sections = ["hero", "why-us", "services", "results", "contact"];
			const scrollPosition = window.scrollY + 100;

			for (const section of sections) {
				const element = document.getElementById(section);
				if (element) {
					const offsetTop = element.offsetTop;
					const offsetHeight = element.offsetHeight;

					if (
						scrollPosition >= offsetTop &&
						scrollPosition < offsetTop + offsetHeight
					) {
						setActiveSection(section);
						break;
					}
				}
			}
		};

		window.addEventListener("scroll", handleScroll);
		return () => window.removeEventListener("scroll", handleScroll);
	}, []);

	const scrollToSection = (sectionId: string): void => {
		const element = document.getElementById(sectionId);
		if (element) {
			element.scrollIntoView({ behavior: "smooth" });
		}
		setIsMenuOpen(false);
	};

	// Don't render until mounted to avoid hydration mismatch
	if (!mounted) return null;

	// Transform siteData.caseStudies.examples to match CaseStudy[]
	const typedSiteData: SiteData = {
		...siteData,
		caseStudies: Array.isArray(siteData.caseStudies?.examples)
			? siteData.caseStudies.examples.map((example: any) => ({
					title: example.title,
					roi: example.roi,
					marketPrice: example.marketPrice,
					finalPrice: example.finalPrice,
					projectCost: example.projectCost,
					salesProceeds: example.salesProceeds,
					monthlyRent: example.monthlyRent,
					savings: example.savings,
					profit: example.profit,
			  }))
			: [],
	};

	return (
		<div
			className="min-h-screen"
			style={{ backgroundColor: theme.background, color: theme.foreground }}>
			<Navigation
				activeSection={activeSection}
				scrollToSection={scrollToSection}
			/>

			{/* Hero Section */}
			<section id="hero" className="pt-20 pb-20 px-4">
				<div className="max-w-7xl mx-auto">
					<div className="text-center mb-16">
						<div className="flex justify-center mb-6">
							<div
								className="p-4 rounded-2xl shadow-2xl"
								style={{ backgroundColor: theme.primary }}>
								<Building
									className="h-16 w-16"
									style={{ color: theme.background }}
								/>
							</div>
						</div>

						<h1
							className="text-5xl md:text-7xl font-bold mb-6"
							style={{ color: theme.foreground }}>
							{typedSiteData.hero.title}
						</h1>

						<p
							className="text-xl md:text-2xl mb-8 max-w-3xl mx-auto"
							style={{ color: theme.mutedForeground }}>
							{typedSiteData.hero.subtitle}
						</p>

						<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-12 max-w-4xl mx-auto">
							{typedSiteData.hero.features.map(
								(feature: string, index: number) => (
									<div
										key={index}
										className="rounded-lg p-4 border"
										style={{
											backgroundColor: theme.card,
											borderColor: theme.border,
										}}>
										<div className="flex items-center space-x-3">
											<CheckCircle
												className="h-5 w-5 flex-shrink-0"
												style={{ color: theme.primary }}
											/>
											<span
												className="text-sm"
												style={{ color: theme.foreground }}>
												{feature}
											</span>
										</div>
									</div>
								)
							)}
						</div>

						<div className="flex flex-col sm:flex-row gap-4 justify-center">
							<button
								onClick={() => scrollToSection("contact")}
								className="px-8 py-4 rounded-full font-semibold text-lg transform hover:scale-105 transition-all duration-300 shadow-lg"
								style={{
									backgroundColor: theme.primary,
									color: theme.background,
								}}
								onMouseEnter={(e) => (e.currentTarget.style.opacity = "0.9")}
								onMouseLeave={(e) => (e.currentTarget.style.opacity = "1")}>
								Start Investing Today
								<ArrowRight className="ml-2 h-5 w-5 inline" />
							</button>
							<button
								onClick={() => scrollToSection("why-us")}
								className="px-8 py-4 rounded-full font-semibold text-lg border-2 transition-all duration-300"
								style={{
									borderColor: theme.border,
									color: theme.foreground,
									backgroundColor: "transparent",
								}}
								onMouseEnter={(e) =>
									(e.currentTarget.style.backgroundColor = theme.card)
								}
								onMouseLeave={(e) =>
									(e.currentTarget.style.backgroundColor = "transparent")
								}>
								Learn More
							</button>
						</div>
					</div>

					{/* ROI Highlight */}
					<div
						className="rounded-2xl p-8 max-w-4xl mx-auto border"
						style={{
							backgroundColor: theme.card,
							borderColor: theme.border,
						}}>
						<div className="text-center mb-6">
							<h3
								className="text-2xl font-bold mb-2"
								style={{ color: theme.foreground }}>
								Proven Track Record
							</h3>
							<p style={{ color: theme.mutedForeground }}>
								Delivering consistent returns for our investors
							</p>
						</div>
						<div className="grid grid-cols-1 md:grid-cols-3 gap-8">
							<div className="text-center">
								<div
									className="text-4xl font-bold mb-2"
									style={{ color: theme.primary }}>
									18-22%
								</div>
								<div style={{ color: theme.foreground }}>Annual Returns</div>
							</div>
							<div className="text-center">
								<div
									className="text-4xl font-bold mb-2"
									style={{ color: theme.primary }}>
									50%
								</div>
								<div style={{ color: theme.foreground }}>Our Skin in Game</div>
							</div>
							<div className="text-center">
								<div
									className="text-4xl font-bold mb-2"
									style={{ color: theme.primary }}>
									16%
								</div>
								<div style={{ color: theme.foreground }}>Average Savings</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			{/* Why Choose Us Section */}
			<section
				id="why-us"
				className="py-20"
				style={{ backgroundColor: `${theme.card}80` }} // 50% opacity
			>
				<div className="max-w-7xl mx-auto px-4">
					<div className="text-center mb-16">
						<h2
							className="text-4xl md:text-5xl font-bold mb-6"
							style={{ color: theme.foreground }}>
							{typedSiteData.valueProposition.title}
						</h2>
						<p
							className="text-xl max-w-3xl mx-auto"
							style={{ color: theme.mutedForeground }}>
							We're not just another investment firm. We're your partners in
							building wealth through strategic real estate investments.
						</p>
					</div>

					<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
						{typedSiteData.valueProposition.benefits.map(
							(benefit: Benefit, index: number) => {
								const IconComponent = benefit.icon;
								return (
									<div
										key={index}
										className="rounded-xl p-6 border hover:shadow-lg transition-all duration-300 group"
										style={{
											backgroundColor: theme.background,
											borderColor: theme.border,
										}}>
										<div
											className="w-16 h-16 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300"
											style={{ backgroundColor: theme.primary }}>
											<IconComponent
												className="h-8 w-8"
												style={{ color: theme.background }}
											/>
										</div>
										<h3
											className="text-xl font-bold mb-3"
											style={{ color: theme.foreground }}>
											{benefit.title}
										</h3>
										<p style={{ color: theme.mutedForeground }}>
											{benefit.description}
										</p>
									</div>
								);
							}
						)}
					</div>
				</div>
			</section>

			{/* Services Section */}
			<section id="services" className="py-20">
				<div className="max-w-7xl mx-auto px-4">
					<div className="text-center mb-16">
						<h2
							className="text-4xl md:text-5xl font-bold mb-6"
							style={{ color: theme.foreground }}>
							{typedSiteData.services.title}
						</h2>
						<p
							className="text-xl max-w-3xl mx-auto mb-4"
							style={{ color: theme.mutedForeground }}>
							{typedSiteData.services.subtitle}
						</p>
						<div className="flex justify-center">
							<div
								className="rounded-lg px-6 py-3 border"
								style={{
									backgroundColor: theme.card,
									borderColor: theme.border,
								}}>
								<p className="font-medium" style={{ color: theme.primary }}>
									Full-Service Real Estate Investment Management
								</p>
							</div>
						</div>
					</div>

					<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
						{typedSiteData.services.categories.map(
							(service: Service, index: number) => {
								const IconComponent = service.icon;
								return (
									<div
										key={index}
										className="rounded-xl p-8 border hover:shadow-lg transition-all duration-300 group"
										style={{
											backgroundColor: theme.card,
											borderColor: theme.border,
										}}>
										<div
											className="w-16 h-16 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300"
											style={{ backgroundColor: theme.primary }}>
											<IconComponent
												className="h-8 w-8"
												style={{ color: theme.background }}
											/>
										</div>
										<h3
											className="text-xl font-bold mb-4"
											style={{ color: theme.foreground }}>
											{service.title}
										</h3>
										<p
											className="leading-relaxed"
											style={{ color: theme.mutedForeground }}>
											{service.description}
										</p>
									</div>
								);
							}
						)}
					</div>
				</div>
			</section>

			{/* Results Section */}
			<section
				id="results"
				className="py-20"
				style={{ backgroundColor: `${theme.card}80` }}>
				<div className="max-w-7xl mx-auto px-4">
					<div className="text-center mb-16">
						<h2
							className="text-4xl md:text-5xl font-bold mb-6"
							style={{ color: theme.foreground }}>
							Proven Results
						</h2>
						<p
							className="text-xl max-w-3xl mx-auto"
							style={{ color: theme.mutedForeground }}>
							Real deals, real returns. See how we consistently deliver value
							for our investors.
						</p>
					</div>

					<div className="grid grid-cols-1 md:grid-cols-3 gap-8">
						{typedSiteData.caseStudies.map(
							(study: CaseStudy, index: number) => (
								<div
									key={index}
									className="rounded-xl p-8 border"
									style={{
										backgroundColor: theme.background,
										borderColor: theme.border,
									}}>
									<div className="flex items-center justify-between mb-6">
										<h3
											className="text-xl font-bold"
											style={{ color: theme.foreground }}>
											{study.title}
										</h3>
										<div
											className="px-4 py-2 rounded-full"
											style={{ backgroundColor: theme.primary }}>
											<span
												className="font-bold"
												style={{ color: theme.background }}>
												{study.roi}% ROI
											</span>
										</div>
									</div>

									<div className="space-y-4">
										{study.marketPrice && (
											<div className="flex justify-between">
												<span style={{ color: theme.mutedForeground }}>
													Market Price:
												</span>
												<span
													className="font-semibold"
													style={{ color: theme.foreground }}>
													${study.marketPrice.toLocaleString()}
												</span>
											</div>
										)}
										{study.finalPrice && (
											<div className="flex justify-between">
												<span style={{ color: theme.mutedForeground }}>
													Final Price:
												</span>
												<span
													className="font-semibold"
													style={{ color: theme.primary }}>
													${study.finalPrice.toLocaleString()}
												</span>
											</div>
										)}
										{study.projectCost && (
											<div className="flex justify-between">
												<span style={{ color: theme.mutedForeground }}>
													Project Cost:
												</span>
												<span
													className="font-semibold"
													style={{ color: theme.foreground }}>
													${study.projectCost.toLocaleString()}
												</span>
											</div>
										)}
										{study.salesProceeds && (
											<div className="flex justify-between">
												<span style={{ color: theme.mutedForeground }}>
													Sales Proceeds:
												</span>
												<span
													className="font-semibold"
													style={{ color: theme.primary }}>
													${study.salesProceeds.toLocaleString()}
												</span>
											</div>
										)}
										{study.monthlyRent && (
											<div className="flex justify-between">
												<span style={{ color: theme.mutedForeground }}>
													Monthly Rent:
												</span>
												<span
													className="font-semibold"
													style={{ color: theme.primary }}>
													${study.monthlyRent.toLocaleString()}
												</span>
											</div>
										)}
										{study.savings && (
											<div
												className="flex justify-between pt-2 border-t"
												style={{ borderColor: theme.border }}>
												<span style={{ color: theme.mutedForeground }}>
													Total Savings:
												</span>
												<span
													className="font-bold"
													style={{ color: theme.primary }}>
													${study.savings.toLocaleString()}
												</span>
											</div>
										)}
										{study.profit && (
											<div
												className="flex justify-between pt-2 border-t"
												style={{ borderColor: theme.border }}>
												<span style={{ color: theme.mutedForeground }}>
													Profit:
												</span>
												<span
													className="font-bold"
													style={{ color: theme.primary }}>
													${study.profit.toLocaleString()}
												</span>
											</div>
										)}
									</div>
								</div>
							)
						)}
					</div>

					{/* Company Quote */}
					<div className="mt-16 text-center">
						<div
							className="rounded-2xl p-8 max-w-4xl mx-auto border"
							style={{
								backgroundColor: theme.background,
								borderColor: theme.border,
							}}>
							<blockquote
								className="text-2xl md:text-3xl font-light italic mb-6"
								style={{ color: theme.foreground }}>
								"{typedSiteData.company.motto}"
							</blockquote>
							<div className="font-semibold" style={{ color: theme.primary }}>
								- Silver Seed Investment Team
							</div>
						</div>
					</div>
				</div>
			</section>

			{/* Contact Section */}
			<section id="contact" className="py-20">
				<div className="max-w-7xl mx-auto px-4">
					<div className="text-center mb-16">
						<h2
							className="text-4xl md:text-5xl font-bold mb-6"
							style={{ color: theme.foreground }}>
							Ready to Start Building Wealth?
						</h2>
						<p
							className="text-xl max-w-3xl mx-auto"
							style={{ color: theme.mutedForeground }}>
							Let's discuss your optimal path to financial freedom. Whether
							you're just starting or looking to accelerate your investments.
						</p>
					</div>

					<div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
						{/* Contact Information */}
						<div
							className="rounded-xl p-8 border"
							style={{
								backgroundColor: theme.card,
								borderColor: theme.border,
							}}>
							<h3
								className="text-2xl font-bold mb-8"
								style={{ color: theme.foreground }}>
								Get In Touch
							</h3>

							<div className="space-y-6">
								<div className="flex items-center space-x-4">
									<div
										className="p-3 rounded-lg"
										style={{ backgroundColor: theme.primary }}>
										<Phone
											className="h-6 w-6"
											style={{ color: theme.background }}
										/>
									</div>
									<div>
										<div
											className="font-semibold"
											style={{ color: theme.foreground }}>
											Phone
										</div>
										<div style={{ color: theme.mutedForeground }}>
											{typedSiteData.company.contact.phone}
										</div>
									</div>
								</div>

								<div className="flex items-center space-x-4">
									<div
										className="p-3 rounded-lg"
										style={{ backgroundColor: theme.primary }}>
										<Phone
											className="h-6 w-6"
											style={{ color: theme.background }}
										/>
									</div>
									<div>
										<div
											className="font-semibold"
											style={{ color: theme.foreground }}>
											WhatsApp
										</div>
										<div style={{ color: theme.mutedForeground }}>
											{typedSiteData.company.contact.whatsapp}
										</div>
									</div>
								</div>

								<div className="flex items-center space-x-4">
									<div
										className="p-3 rounded-lg"
										style={{ backgroundColor: theme.primary }}>
										<Mail
											className="h-6 w-6"
											style={{ color: theme.background }}
										/>
									</div>
									<div>
										<div
											className="font-semibold"
											style={{ color: theme.foreground }}>
											Email
										</div>
										<div style={{ color: theme.mutedForeground }}>
											{typedSiteData.company.contact.email}
										</div>
									</div>
								</div>

								<div className="flex items-center space-x-4">
									<div
										className="p-3 rounded-lg"
										style={{ backgroundColor: theme.primary }}>
										<MapPin
											className="h-6 w-6"
											style={{ color: theme.background }}
										/>
									</div>
									<div>
										<div
											className="font-semibold"
											style={{ color: theme.foreground }}>
											Website
										</div>
										<div style={{ color: theme.mutedForeground }}>
											{typedSiteData.company.contact.website}
										</div>
									</div>
								</div>
							</div>

							<div
								className="mt-8 pt-8 border-t"
								style={{ borderColor: theme.border }}>
								<p className="text-sm" style={{ color: theme.mutedForeground }}>
									<strong style={{ color: theme.foreground }}>
										Investment Minimums:
									</strong>{" "}
									Starting from $1,000
									<br />
									<strong style={{ color: theme.foreground }}>
										Expected Returns:
									</strong>{" "}
									18-22% annualized
									<br />
									<strong style={{ color: theme.foreground }}>
										Project Duration:
									</strong>{" "}
									6 months to 2 years
								</p>
							</div>
						</div>

						{/* Contact Form */}
						<div
							className="rounded-xl p-8 border"
							style={{
								backgroundColor: theme.card,
								borderColor: theme.border,
							}}>
							<h3
								className="text-2xl font-bold mb-6"
								style={{ color: theme.foreground }}>
								Start Your Investment Journey
							</h3>

							<div className="space-y-6">
								<div>
									<label
										className="block font-medium mb-2"
										style={{ color: theme.foreground }}>
										Full Name
									</label>
									<input
										type="text"
										className="w-full rounded-lg px-4 py-3 border focus:outline-none focus:ring-2"
										style={{
											backgroundColor: theme.background,
											borderColor: theme.border,
											color: theme.foreground,
											//focusRingColor: theme.primary,
										}}
										placeholder="Enter your full name"
									/>
								</div>

								<div>
									<label
										className="block font-medium mb-2"
										style={{ color: theme.foreground }}>
										Email Address
									</label>
									<input
										type="email"
										className="w-full rounded-lg px-4 py-3 border focus:outline-none focus:ring-2"
										style={{
											backgroundColor: theme.background,
											borderColor: theme.border,
											color: theme.foreground,
										}}
										placeholder="Enter your email"
									/>
								</div>

								<div>
									<label
										className="block font-medium mb-2"
										style={{ color: theme.foreground }}>
										Phone Number
									</label>
									<input
										type="tel"
										className="w-full rounded-lg px-4 py-3 border focus:outline-none focus:ring-2"
										style={{
											backgroundColor: theme.background,
											borderColor: theme.border,
											color: theme.foreground,
										}}
										placeholder="Enter your phone number"
									/>
								</div>

								<div>
									<label
										className="block font-medium mb-2"
										style={{ color: theme.foreground }}>
										Investment Interest
									</label>
									<select
										className="w-full rounded-lg px-4 py-3 border focus:outline-none focus:ring-2"
										style={{
											backgroundColor: theme.background,
											borderColor: theme.border,
											color: theme.foreground,
										}}>
										<option value="">Select investment range</option>
										<option value="1k-10k">$1,000 - $10,000</option>
										<option value="10k-50k">$10,000 - $50,000</option>
										<option value="50k-100k">$50,000 - $100,000</option>
										<option value="100k+">$100,000+</option>
									</select>
								</div>

								<div>
									<label
										className="block font-medium mb-2"
										style={{ color: theme.foreground }}>
										Message
									</label>
									<textarea
										rows={4}
										className="w-full rounded-lg px-4 py-3 border focus:outline-none focus:ring-2"
										style={{
											backgroundColor: theme.background,
											borderColor: theme.border,
											color: theme.foreground,
										}}
										placeholder="Tell us about your investment goals..."></textarea>
								</div>

								<button
									className="w-full py-4 rounded-lg font-semibold text-lg transform hover:scale-105 transition-all duration-300 shadow-lg"
									style={{
										backgroundColor: theme.primary,
										color: theme.background,
									}}
									onMouseEnter={(e) => (e.currentTarget.style.opacity = "0.9")}
									onMouseLeave={(e) => (e.currentTarget.style.opacity = "1")}>
									Schedule Consultation
									<ArrowRight className="ml-2 h-5 w-5 inline" />
								</button>
							</div>
						</div>
					</div>
				</div>
			</section>

			{/* Footer */}
			<Footer />
		</div>
	);
};

export default SilverSeedLanding;
